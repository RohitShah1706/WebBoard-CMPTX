!function(){"use strict";function n(n,e,f){var t=e.x,u=e.y,r=f.x-t,i=f.y-u;if(0!==r||0!==i){var o=((n.x-t)*r+(n.y-u)*i)/(r*r+i*i);o>1?(t=f.x,u=f.y):o>0&&(t+=r*o,u+=i*o)}return(r=n.x-t)*r+(i=n.y-u)*i}function e(e,f){var t=e.length-1,u=[e[0]];return function e(f,t,u,r,i){for(var o,d=r,s=t+1;s<u;s++){var y=n(f[s],f[t],f[u]);y>d&&(o=s,d=y)}d>r&&(o-t>1&&e(f,t,o,r,i),i.push(f[o]),u-o>1&&e(f,o,u,r,i))}(e,0,t,f,u),u.push(e[t]),u}function f(n,f,t){if(n.length<=2)return n;var u=void 0!==f?f*f:1;return n=e(n=t?n:function(n,e){for(var f,t,u,r,i,o=n[0],d=[o],s=1,y=n.length;s<y;s++)f=n[s],u=o,r=(t=f).x-u.x,i=t.y-u.y,r*r+i*i>e&&(d.push(f),o=f);return o!==f&&d.push(f),d}(n,u),u)}"function"==typeof define&&define.amd?define(function(){return f}):"undefined"!=typeof module?(module.exports=f,module.exports.default=f):"undefined"!=typeof self?self.simplify=f:window.simplify=f}();